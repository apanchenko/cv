{% extends "layout.html" %}
{% block main_content %}

{% if include_header %}
<button hx-post="/generate">Generate</button>
{% endif %}

{{ render_partial('author_name.html',
                  author_id=author.id,
                  author_name=author.name) }}

{% if author.addresses|length %}
<address>
  {% for addr in author.addresses %}
  <div>
    <i class={{addr.icon}}></i>
    <a href={{addr.href}}>{{addr.text}}</a>
  </div>
  {% endfor %}
</address>
{% endif %}

{% if author.experiences|length %}
<div class="cat">Experience</div>
{% for exp in author.experiences %}
  <div class="position">{{exp.position}}
    <span class="period"> • {{exp.since}} - {{exp.till}}</span>
  </div>
  <p class="company"><a href="{{exp.href}}">{{exp.link}}</a></p>
  <p class="desc">{{exp.text|safe}}</p>
  <p class="desc">{{exp.tech|safe}}</p>
{% endfor %}
{% endif %}

{% if author.educations|length %}
<div class="cat">Education</div>
<ul class="desc">
    {% for ed in author.educations %}
    <li>
        {{ed.text}}

        {% if ed.href %}
            <a href="{{ed.href}}">
                {{ed.link}}
                {% if ed.abbr %}<abbr>{{ed.abbr}}</abbr>{% endif %}
            </a>
        {% endif %}

        {% if ed.year %}
        <span class="period"> • <time datetime="{{ed.year}}">{{ed.year}}</time></span>
        {% endif %}
    </li>
    {% endfor %}
</ul>
{% endif %}

{% if author.skills|length %}
<div class="cat">Skills</div>
<ul class="skills">
    {% for skill in author.skills %}
    <li>• {{skill.name}}</li>
    {% endfor %}
</ul>
{% endif %}

{% endblock %}